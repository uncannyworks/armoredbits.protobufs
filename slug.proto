import "general.proto";

message ServerStateMessage {
  required int32 serverState = 1;
}

message ServerWorldStateMessage {
  required int32 worldState = 1;
}

message SlugActionLoginRequest {
  required string gameId   = 1;
  required string slugId   = 2;
  required string userName = 3;
}

// empty message
// message SlugActionLoginResponse {
// }

message ServerSlugGenericResponse {
  required int32 response = 1;
  optional int32 error    = 2;
}

// Configuration

message SlugConfigureChassisRequest {
  required string model          = 1;
  required string reactorModel   = 2;
  required string gyroModel      = 3;
  optional string capacitorModel = 4;
}

message SlugConfigureCockpitRequest {
  required string cockpitModel         = 1;
  required string computerModel        = 2;
  repeated string sensorModels         = 3;
  repeated string communicationModels  = 4;
  required string armorModel           = 5;
  repeated string counterMeasureModels = 6;
}

message SlugConfigureTorsoRequest  {
  required string torsoModel                  = 1;
  required string engineModel                 = 2;
  required string armorModel                  = 3;
  repeated SlugConfigureWeaponMessage weapons = 4;
  repeated string counterMeasureModels        = 5;
}
 
message SlugConfigureArmsRequest {
  repeated SlugConfigureArmMessage arms = 1;
}

message SlugConfigureLegsRequest {
  repeated SlugConfigureLegMessage legs = 1;
}

message SlugConfigureArmMessage {
  required string armModel                    = 1;
  required string armorModel                  = 2;
  repeated SlugConfigureWeaponMessage weapons = 3;
  repeated string counterMeasureModels        = 4;
  required string armPosition                 = 5;
}

message SlugConfigureLegMessage {
  required string legModel    = 1;
  required string armorModel  = 2;
  required int32  legPosition = 3;
}

message SlugConfigureWeaponMessage {
  required string weaponModel    = 1;
  required string capacitorModel = 2;
}

// empty message
// message SlugConfigureDoneRequest {
// }

// Query

// empty message
// message SlugGetQueryChassisRequest {
// }

message SlugGetQueryChassisResponse {
  required string state                 = 1;
  required int32  maxWeight             = 2;
  required int32  currentWeight         = 3;
  required bool   hasStorage            = 4;
  required bool   hasCapacitor          = 5;
  required int32  armCount              = 6;
  required int32  legCount              = 7;
  required VectorMessage position       = 8;
  required VectorMessage moveTarget     = 9;
  required float acceleration           = 10;
  required float accelerationMax        = 11;
  required VectorMessage rotation       = 12;
  required float rotationRate           = 13;
  required VectorMessage rotationTarget = 14;
}

// empty message
// message SlugGetQueryTorsoRequest {
// }

message SlugGetQueryTorsoResponse {
  required  string state               = 1;
  required  bool   hasStorage          = 2;
  required  int32  weaponLimit         = 3;
  required  int32  counterMeasureLimit = 4;
}

// empty message
// message SlugGetQueryCockpitRequest {
// }

message SlugGetQueryCockpitResponse {
  required string state               = 1; 
  required int32  sensorLimit         = 2; 
  required int32  communicationsLimit = 3; 
  required int32  counterMeasureLimit = 4; 
}

message SlugGetQueryArmRequest {
  required int32 index = 1;
}

message SlugGetQueryArmResponse {
  required string state               = 1;
  required bool   hasStorage          = 2;
  required int32  weaponLimit         = 3;
  required int32  counterMeasureLimit = 4;
}

message SlugGetQueryLegRequest {
  required int32 index = 1;
}

message SlugGetQueryLegResponse {
  required string state = 1;
}
