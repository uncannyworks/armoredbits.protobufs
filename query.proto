import "general.proto";

message SlugQueryArmMessage {
  required string state                                   = 1;
  required bool hasStorage                                = 2;
  optional SlugQueryStorageMessage storage                = 3;
  repeated SlugQueryWeaponMessage weapons                 = 4;
  repeated SlugQueryCounterMeasureMessage counterMeasures = 5;
  required SlugQueryArmorMessage armor                    = 6;
}

message SlugQueryArmorMessage {
  required int32 valueFrontMax     = 1;
  required int32 valueFrontCurrent = 2;
  required int32 valueBackMax      = 3;
  required int32 valueBackCurrent  = 4;
}

message SlugQueryCapacitorMessage {
  required string state       = 1;
  required int32 capacity     = 2;
  required float chargeRate   = 3;
  required int32 chargeAmount = 4;
}

message SlugQueryCockpitMessage {
  required string state                                   = 1;
  repeated SlugQueryComputerMessage computers             = 2;
  repeated SlugQueryCommunicationMessage communications   = 3;
  repeated SlugQuerySensorMessage sensors                 = 4;
  repeated SlugQueryCounterMeasureMessage counterMeasures = 5;
  required SlugQueryArmorMessage armor                    = 6;
}

message SlugQueryComputerMessage {
  required string state                            = 1;
  required ActiveComponentMessage activeComponent  = 2;
  required int32 targetsMax                        = 3;
  repeated int32 targetsLocked                     = 4;
  required int32 targetPrimary                     = 5;
  required int32 targetLockNew                     = 6;
  required float targetLockOnTime                  = 7;
  required float targetLockTime                    = 8;
  repeated int32 teamMechs                         = 9;
}

message SlugQueryCommunicationMessage {
  required string state                           = 1;
  required ActiveComponentMessage activeComponent = 2;
  required string cType                           = 3;
  required int32 receiveRate                      = 4;
  required int32 sendRate                         = 5;
  required float maxRange                         = 6;
  required int32 channels                         = 7;
  required float delay                            = 8;
}

message SlugQueryCounterMeasureMessage {
  required string state                           = 1;
  required string cmType                          = 2;
  required ActiveComponentMessage activeComponent = 3;
}

message SlugQueryEngineMessage {
  required string state                           = 1;
  required ActiveComponentMessage activeComponent = 2;
  required float accelerationMax                  = 3;
  required float acceleration                     = 4;
  required float speedMax                         = 5;
  required float speedCurrent                     = 6;
}

message SlugQueryLegMessage {
  required string state                = 1;
  required SlugQueryArmorMessage armor = 2;
}

message SlugQueryReactorMessage {
  required string state = 1;
  required int32 output = 2;
}

message SlugQuerySensorMessage {
  required string state                           = 1;
  required ActiveComponentMessage activeComponent = 2;
  required string sType                           = 3;
  required float maxRange                         = 4;
  required float fov                              = 5;
  required bool occlusion                         = 6;
  required float refreshRate                      = 7;
}

message SlugQueryStorageMessage {
  required int32 size = 1;
}

message SlugQueryTorsoMessage {
  required string state                                   = 1;
  required bool hasStorage                                = 2;
  optional SlugQueryStorageMessage storage                = 3;
  required SlugQueryEngineMessage engine                  = 4;
  required SlugQueryArmorMessage armor                    = 5;
  repeated SlugQueryWeaponMessage weapons                 = 6;
  repeated SlugQueryCounterMeasureMessage counterMeasures = 7;
}

message SlugQueryWeaponMessage {
  required string state                           = 1;
  required ActiveComponentMessage activeComponent = 2;
  required string wType                           = 3;
  required bool hasCapacitor                      = 4;
  optional SlugQueryCapacitorMessage capacitor    = 5;
  required float fireRate                         = 6; 
  required float firedLast                        = 7; 
  required int32 ammoMax                          = 8;
  required int32 ammoCurrent                      = 9;
  required int32 clipMax                          = 10;
  required int32 clipCurrent                      = 11;
  required bool clipReloading                     = 12; 
  required float reloadRate                       = 13;
  required bool jammed                            = 14; 
  required float rangeLow                         = 15;
  required float rangeMid                         = 16;
  required float rangeHigh                        = 17;
  required float damageLow                        = 18;
  required float damageMid                        = 19;
  required float damageHigh                       = 20;
  required int32 firedCount                       = 21;
}